{"version":3,"sources":["webpack:///./src/views/BuyTickets.vue?27b0","webpack:///./node_modules/_core-js@3.6.2@core-js/modules/es.array.filter.js","webpack:///./src/views/BuyTickets.vue?2d3b","webpack:///src/views/BuyTickets.vue","webpack:///./src/views/BuyTickets.vue?f40b","webpack:///./src/views/BuyTickets.vue","webpack:///./node_modules/_core-js@3.6.2@core-js/internals/number-parse-float.js","webpack:///./node_modules/_core-js@3.6.2@core-js/modules/es.parse-float.js","webpack:///./node_modules/_core-js@3.6.2@core-js/modules/es.object.keys.js","webpack:///./node_modules/_core-js@3.6.2@core-js/modules/es.object.get-own-property-descriptors.js","webpack:///./node_modules/_core-js@3.6.2@core-js/internals/string-trim.js","webpack:///./node_modules/_@babel_runtime@7.7.7@@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/_core-js@3.6.2@core-js/modules/es.object.get-own-property-descriptor.js","webpack:///./node_modules/_core-js@3.6.2@core-js/internals/whitespaces.js"],"names":["$","$filter","filter","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","forced","callbackfn","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","back","_v","_m","_l","item","index","key","class","v","s3","s8","buying","type","selected","$event","selectChair","_s","movieData","title","pubdate","style","width","ref","refInFor","x","y","userChairData","toFixed","payBtn","id","staticRenderFns","component","global","trim","whitespaces","$parseFloat","parseFloat","FORCED","Infinity","module","exports","string","trimmedString","String","result","charAt","parseFloatImplementation","toObject","nativeKeys","fails","FAILS_ON_PRIMITIVES","stat","keys","it","DESCRIPTORS","ownKeys","toIndexedObject","getOwnPropertyDescriptorModule","createProperty","sham","getOwnPropertyDescriptors","object","descriptor","O","getOwnPropertyDescriptor","f","requireObjectCoercible","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","replace","start","end","_defineProperty","obj","value","Object","defineProperty","enumerable","configurable","writable","nativeGetOwnPropertyDescriptor"],"mappings":"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","file":"js/chunk-91ee2128.7d2e6758.js","sourcesContent":["import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@3.4.1@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./BuyTickets.vue?vue&type=style&index=0&id=c0289a78&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@3.4.1@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./BuyTickets.vue?vue&type=style&index=0&id=c0289a78&lang=less&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"buyTickets\"},[_c('header',[_c('van-nav-bar',{attrs:{\"left-text\":\"返回\",\"title\":\"选座购票\",\"left-arrow\":\"\",\"border\":false},on:{\"click-left\":_vm.back}},[_vm._v(\"/>\")])],1),_c('div',{staticClass:\"seatbox\"},[_vm._m(0),_vm._m(1),_c('div',{staticClass:\"chairbox\"},_vm._l((_vm.chairDatas),function(item,index){return _c('div',{key:index,staticClass:\"chair\",class:index == 0 ? 'chair1' : index == 6 ? 'chair3' : 'chair2'},_vm._l((item),function(v,key){return _c('span',{key:key,class:{s3:index>0 && index<6 && key == 2, s8:index>0 && index<6 && key == 7, buying:v.type == 'buying', selected:v.type == 'selected'},on:{\"click\":function($event){return _vm.selectChair(v)}}})}),0)}),0),_c('div',{staticClass:\"ticketsbox\"},[_c('div',{staticClass:\"ticketsinfo\"},[_c('div',{staticClass:\"ticketstitle clearfix\"},[_c('div',{staticClass:\"fl title\"},[_vm._v(_vm._s(_vm.movieData.title))]),_c('div',{staticClass:\"fr\"},[_vm._v(\"切换场次\")])]),_c('div',{staticClass:\"clearfix\"},[_c('p',{staticClass:\"fl\"},[_vm._v(_vm._s(_vm.movieData.pubdate))]),_c('p',{staticClass:\"fr\"},[_vm._v(\" 17:05 ~ 18:20\")])])]),_c('div',{staticClass:\"ticketslist\"},[_c('ul',{staticClass:\"tickets clearfix\",style:({width:_vm.width + 'px'})},_vm._l((_vm.userChairData),function(item,index){return _c('li',{key:index,ref:\"userchair\",refInFor:true},[_c('span',{staticClass:\"c c1\"}),_c('i',{staticClass:\"r r1\"}),_c('div',[_c('span',[_vm._v(_vm._s(item.x)+\"排\"+_vm._s(item.y)+\"座\")]),_c('span',{staticClass:\"price\"},[_vm._v(\"￥28\")])]),_c('span',{staticClass:\"c c2\"}),_c('i',{staticClass:\"r r2\"})])}),0)])]),_c('div',{staticClass:\"buybtn\"},[_c('span',{staticClass:\"fl total\"},[_vm._v(\"合计：￥\"+_vm._s((_vm.userChairData.length * 28).toFixed(2)))]),_c('span',{staticClass:\"fr pay\",on:{\"click\":function($event){return _vm.payBtn(_vm.movieData.id)}}},[_vm._v(\"确认支付\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tags clearfix\"},[_c('div',[_c('div',{staticClass:\"c-box clearfix\"},[_c('i',{staticClass:\"c-bg fl c-bg1\"}),_c('span',{staticClass:\"fl buyed\"},[_vm._v(\"已售\")])])]),_c('div',[_c('div',{staticClass:\"c-box clearfix m-box\"},[_c('i',{staticClass:\"c-bg fl c-bg2\"}),_c('span',{staticClass:\"fl buyed\"},[_vm._v(\"已选\")])])]),_c('div',[_c('div',{staticClass:\"c-box clearfix fr\"},[_c('i',{staticClass:\"c-bg fl c-bg3\"}),_c('span',{staticClass:\"fl buyed\"},[_vm._v(\"可选\")])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"screen\"},[_c('div',{staticClass:\"screen-arc\"}),_c('div',{staticClass:\"screen-arc1\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"buyTickets\">\r\n        <header>\r\n          <van-nav-bar left-text=\"返回\" title=\"选座购票\" left-arrow :border=\"false\" @click-left=\"back\">/></van-nav-bar>\r\n        </header>\r\n\r\n        <div class=\"seatbox\">\r\n            <!-- 座位标志 -->\r\n            <div class=\"tags clearfix\">\r\n                <div>\r\n                    <div class=\"c-box clearfix\">\r\n                        <i class=\"c-bg fl c-bg1\"></i>\r\n                        <span class=\"fl buyed\">已售</span>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                  <div class=\"c-box clearfix m-box\">\r\n                        <i class=\"c-bg fl c-bg2\"></i>\r\n                        <span class=\"fl buyed\">已选</span>\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <div class=\"c-box clearfix fr\">\r\n                        <i class=\"c-bg fl c-bg3\"></i>\r\n                        <span class=\"fl buyed\">可选</span>\r\n                  </div>\r\n                </div>\r\n            </div>\r\n            \r\n            <!-- 银屏 -->\r\n            <div class=\"screen\">\r\n              <div class=\"screen-arc\"></div>\r\n              <div class=\"screen-arc1\"></div>\r\n            </div>\r\n\r\n            <!-- 座位 -->\r\n            <div class=\"chairbox\">\r\n                <div class=\"chair\" :class=\"index == 0 ? 'chair1' : index == 6 ? 'chair3' : 'chair2'\" v-for=\"(item,index) in chairDatas\" :key=\"index\">\r\n                    <span v-for=\"(v,key) in item\" :key=\"key\" :class=\"{s3:index>0 && index<6 && key == 2, s8:index>0 && index<6 && key == 7, buying:v.type == 'buying', selected:v.type == 'selected'}\" @click=\"selectChair(v)\"> </span>\r\n                </div>\r\n            <!-- \r\n                <div class=\"chair chair1\">\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span class=\"selected\"></span>\r\n                </div>\r\n                <div class=\"chair chair2\">\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span class=\"s3\"></span>\r\n                    <span></span>\r\n                    <span class=\"buying\"></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span class=\"s8\"></span>\r\n                    <span></span>\r\n                </div>\r\n                <div class=\"chair chair2\">\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span class=\"s3\"></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span class=\"s8\"></span>\r\n                    <span></span>\r\n                </div>\r\n                <div class=\"chair chair2\">\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span class=\"s3\"></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span class=\"s8\"></span>\r\n                    <span></span>\r\n                </div>\r\n                <div class=\"chair chair2\">\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span class=\"s3\"></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span class=\"s8\"></span>\r\n                    <span></span>\r\n                </div>\r\n                <div class=\"chair chair2\">\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span class=\"s3\"></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span class=\"s8\"></span>\r\n                    <span></span>\r\n                </div>\r\n                <div class=\"chair chair3\">\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                </div>\r\n            -->\r\n            </div>\r\n\r\n            <!-- 选择的票 -->\r\n            <div class=\"ticketsbox\">\r\n                <div class=\"ticketsinfo\">\r\n                    <div class=\"ticketstitle clearfix\">\r\n                        <div class=\"fl title\">{{movieData.title}}</div>\r\n                        <div class=\"fr\">切换场次</div>\r\n                    </div>\r\n                    <div class=\"clearfix\">\r\n                        <p class=\"fl\">{{movieData.pubdate}}</p>\r\n                        <p class=\"fr\"> 17:05 ~ 18:20</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"ticketslist\">\r\n                    <ul class=\"tickets clearfix\" :style=\"{width:width + 'px'}\">\r\n                      <li ref=\"userchair\" v-for=\"(item,index) in userChairData\" :key=\"index\"><span class=\"c c1\"></span><i class=\"r r1\"></i>\r\n                        <div><span>{{item.x}}排{{item.y}}座</span><span class=\"price\">￥28</span></div>\r\n                        <span class=\"c c2\"></span><i class=\"r r2\"></i>\r\n                      </li>\r\n\r\n                        <!-- <li><span class=\"c c1\"></span><i class=\"r r1\"></i>\r\n                        <div><span>1排3座</span><span class=\"price\">￥28</span></div>\r\n                        <span class=\"c c2\"></span><i class=\"r r2\"></i>\r\n                        </li> -->\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n            \r\n            <!-- 购票 -->\r\n            <div class=\"buybtn\">\r\n              <span class=\"fl total\">合计：￥{{(userChairData.length * 28).toFixed(2)}}</span>\r\n              <span class=\"fr pay\" @click=\"payBtn(movieData.id)\">确认支付</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n   \r\n</template>\r\n\r\n<script>\r\n    import {createNamespacedHelpers} from 'vuex';\r\n    const {mapState, mapMutations} = createNamespacedHelpers('buyTicketsModule');\r\n\r\n    export default {\r\n        name:'buyTickets',\r\n\r\n        computed:{\r\n            ...mapState(['movieData', 'chairDatas', 'userChairData', 'width'])\r\n        },\r\n\r\n        methods:{\r\n            ...mapMutations(['resetData']),\r\n\r\n            // 返回上一步\r\n            back() {\r\n                this.$router.go(-1);\r\n            },\r\n\r\n            //选择座位\r\n            selectChair(item){\r\n                // console.log('座位item=>',item); //获取x，y，type\r\n\r\n                // 被选的不能选\r\n                if(item.type =='selected'){\r\n                    return;\r\n                }\r\n\r\n                // 没有被选\r\n                if(item.type == ''){\r\n                    item.type = 'buying';\r\n\r\n                    //提交mutations\r\n                    this.$store.commit('buyTicketsModule/changeChairData', item);\r\n\r\n                    //提交actions // 添加用户选票进数组保存\r\n                    this.$store.dispatch('buyTicketsModule/addUserChairData',item)\r\n                    .then(() =>{\r\n                        // 获取第一个li元素\r\n                        let firstLi = this.$refs.userchair[0];\r\n                        let width = firstLi.offsetWidth;\r\n                        // console.log('width=>',width);\r\n                        let marginRight = parseFloat(getComputedStyle(firstLi).marginRight);\r\n                        // console.log('marginRight=>',marginRight);\r\n\r\n                        this.$store.commit('buyTicketsModule/modifyUlWidth',(width + marginRight + 1) * this.userChairData.length);\r\n\r\n                    })\r\n                }\r\n                else if(item.type = 'buying'){\r\n                    item.type = '';\r\n                    this.$store.commit('buyTicketsModule/changeChairData', item);\r\n\r\n                    // 删除选座\r\n                    this.$store.dispatch('buyTicketsModule/delUserChairData', item)\r\n                    .then(()=>{\r\n                        let firstLi = this.$refs.userchair[0];\r\n              \r\n                        if (!firstLi) {\r\n                          this.$store.commit('buyTicketsModule/modifyUlWidth',0);\r\n                          return;\r\n                        }\r\n                        let width = firstLi.offsetWidth;\r\n                        let marginRight = parseFloat(getComputedStyle(firstLi).marginRight);\r\n                        this.$store.commit('buyTicketsModule/modifyUlWidth',(width + marginRight) *  this.userChairData.length); \r\n                    })\r\n                }\r\n            },\r\n\r\n            // 确认支付\r\n            payBtn(id){\r\n                // // console.log('id=>',id);\r\n                this.$router.push({name:'tickets',query:{id}});\r\n            }\r\n        },\r\n\r\n        created(){\r\n                  \r\n            this.resetData(); //重置state的data （二次进来，没加载完成看不到信息）\r\n\r\n            //开启加载提示\r\n            this.$toast.loading({\r\n              duration: 0,\r\n              message: '加载中...'\r\n            });\r\n\r\n            let queryId = this.$route.query.id;\r\n            // console.log('queryId=>',queryId);\r\n\r\n            this.axios({\r\n                method:'GET',\r\n                url:'https://douban.uieee.com/v2/movie/subject/' + queryId\r\n            }).then(result =>{\r\n                // console.log('result=>',result);\r\n                this.$store.commit('buyTicketsModule/getData',result.data);\r\n                \r\n                this.$toast.clear();\r\n                \r\n                //根据用户登录状态，判断该电影是否被该用户收藏\r\n                let userStatus = localStorage.getItem('user');\r\n                let isActive = userStatus && JSON.parse(userStatus).isLogin;\r\n\r\n            }).catch(err=>{\r\n                this.$toast.clear();\r\n            })\r\n\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .buyTickets{\r\n        height: 100%;\r\n\r\n        header{\r\n            width: 100%;\r\n            background-color: #697A9C;\r\n            /deep/.van-nav-bar{\r\n              background-color: transparent;\r\n            }\r\n            .van-nav-bar__text{\r\n              color: #fff;\r\n              font-size: 16px;\r\n            }\r\n            .van-nav-bar__title{\r\n              color: #fff;\r\n              font-size: 18px;\r\n            }\r\n            .van-icon-arrow-left:before{\r\n               color: #fff;\r\n               font-size: 20px;\r\n            }\r\n            /deep/.van-icon{\r\n              padding: 0 6px;\r\n          }\r\n        }\r\n        \r\n        .seatbox{\r\n            // margin-top: 60px;\r\n            background-color:#fff;\r\n            // 标记\r\n            .tags{\r\n                margin: 30px 80px 0;\r\n                .c-box{\r\n                width: 50px;\r\n                }\r\n                .m-box{\r\n                margin: 0 auto;\r\n                }\r\n                >div{\r\n                    float: left;\r\n                    width: calc(~\"100% / 3\");\r\n                    height: 30px;\r\n                    .c-bg{\r\n                        width: 20px;\r\n                        height: 12px;\r\n                        margin-top: 9px;\r\n                        &.c-bg1{\r\n                            background-color: #FFBC32;\r\n                        }\r\n                        &.c-bg2{\r\n                            background-color: #fc274a;\r\n                        }\r\n                        &.c-bg3{\r\n                            background-color: #697A9C;\r\n                        }\r\n                    }\r\n                    .buyed{\r\n                        line-height: 30px;\r\n                        font-size: 12px;\r\n                        margin-left: 5px;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            // 座位\r\n            .ticketsbox{\r\n                width: 80%;\r\n                margin: 30px auto;\r\n                border: 1px solid #697A9C;\r\n                border-radius: 10px;\r\n                padding:20px 10px 30px;\r\n                .ticketsinfo{\r\n                    width: 100%;\r\n                    font-size: 16px;\r\n                    border-bottom: 1px solid #ddd;\r\n                    .ticketstitle{\r\n                        color: #FF9800;\r\n                        .title{\r\n                            font-size: 18px;\r\n                            font-weight: 600;\r\n                            color: #000;\r\n                        }\r\n                    }\r\n                }\r\n                .ticketslist{\r\n                    margin-top: 20px;\r\n                    overflow-x: auto;\r\n                    overflow-y: hidden;\r\n                    .tickets{\r\n                        // width: 600px;\r\n                        height: 40px;\r\n                        >li{\r\n                            float: left;\r\n                            width: 80px;\r\n                            height: 38px;\r\n                            border: 1px solid #FF9800;\r\n                            position: relative;\r\n                            text-align: center;\r\n                            font-size: 16px;\r\n                            line-height: 20px;\r\n                            background-color: #FF429B;\r\n                            color: #fff;\r\n                            margin-right: 10px;\r\n                            >div span{\r\n                                display: block;\r\n                                width: 100%;\r\n                            }\r\n                            .price{\r\n                                font-size: 12px;\r\n                                color: #fff;\r\n                            }\r\n                        }\r\n                        .r{\r\n                          position: absolute;\r\n                          width: 10px;\r\n                          height: 10px;\r\n                          border: 1px solid #FF9800;\r\n                          top: 0;\r\n                          bottom: 0;\r\n                          margin: auto 0;\r\n                          border-radius: 50%;\r\n                          background-color: #fff;\r\n                          z-index: 1;\r\n                        }\r\n                        .c{\r\n                            position: absolute;\r\n                            top: 0;\r\n                            bottom: 0;\r\n                            background-color: #fff;\r\n                            width: 7px;\r\n                            z-index: 2;\r\n                        }\r\n                        .r1{\r\n                          left: -7px;\r\n                        }\r\n                        .c1{\r\n                          left: -8px;\r\n                        }\r\n                        .r2{\r\n                          right: -7px;\r\n                        }\r\n                        .c2{\r\n                          right: -8px;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            \r\n            // 屏幕\r\n            .screen{\r\n                width: 300px;\r\n                height: 60px;\r\n                margin: 0 auto;\r\n                position: relative;\r\n                overflow: hidden;\r\n                .screen-arc{\r\n                    width: 500px;\r\n                    height: 200px;\r\n                    border-radius: 50%;\r\n                    border: 3px solid rgb(255, 65, 75);\r\n                    position: absolute;\r\n                    top: 15px;\r\n                    left: -100px;\r\n                }\r\n                .screen-arc1{\r\n                    width: 500px;\r\n                    height: 200px;\r\n                    border-radius: 50%;\r\n                    border: 3px solid rgb(245, 63, 63);\r\n                    position: absolute;\r\n                    top: 18px;\r\n                    left: -100px;\r\n                }\r\n            }\r\n\r\n            // 选座椅子\r\n            .chairbox{\r\n                padding: 0 18px;\r\n                .chair{\r\n                    margin: 0 auto;\r\n                    height: 24px;\r\n                    margin-bottom: 8px;\r\n                    &.chair1{\r\n                        width: 96px;\r\n                    }\r\n                    &.chair2{\r\n                        width: 352px;\r\n                        >span{\r\n                            &.s3,&.s8{\r\n                                margin-left: 28px;\r\n                            }\r\n                        }\r\n                    }\r\n                    &.chair3{\r\n                        width: 160px;\r\n                    }\r\n                    >span{\r\n                        float: left;\r\n                        width: 24px;\r\n                        height: 24px;\r\n                        margin: 0 4px;\r\n                        background: url(\"../assets/images/chair1.png\") no-repeat center center;\r\n                        background-size: 24px 24px;\r\n                        &.selected{\r\n                            // background-color: #FFBC32;\r\n                            background: url(\"../assets/images/chair3.png\") no-repeat center center;\r\n                        }\r\n                        &.buying{\r\n                            background: url(\"../assets/images/chair2.png\") no-repeat center center;\r\n                            // background: url(\"../assets/images/chair3.png\") no-repeat center center;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            .buybtn{\r\n                position: absolute;\r\n                bottom: 0;\r\n                left: 0;\r\n                height: 54px;\r\n                width: calc(~\"100% - 20px\");\r\n                background-color: #fff;\r\n                box-shadow: 0px 0px 5px 1px #ccc;\r\n                padding: 0 10px;\r\n                .total{\r\n                  line-height: 54px;\r\n                  font-size: 16px;\r\n                }\r\n                .pay{\r\n                  width: 80px;\r\n                  height: 34px;\r\n                  background-image: linear-gradient(to bottom, #FF429B, #FF3472);\r\n                  color: #fff;\r\n                  font-size: 14px;\r\n                  text-align: center;\r\n                  line-height: 34px;\r\n                  border-radius: 10px;\r\n                  border-bottom: 2px solid #e2072b;\r\n                  letter-spacing: 2px;\r\n                  margin-top: 10px;\r\n                }\r\n            }\r\n        }  \r\n    }\r\n</style>","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./BuyTickets.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./BuyTickets.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BuyTickets.vue?vue&type=template&id=c0289a78&scoped=true&\"\nimport script from \"./BuyTickets.vue?vue&type=script&lang=js&\"\nexport * from \"./BuyTickets.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BuyTickets.vue?vue&type=style&index=0&id=c0289a78&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c0289a78\",\n  null\n  \n)\n\nexport default component.exports","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseFloat = global.parseFloat;\nvar FORCED = 1 / $parseFloat(whitespaces + '-0') !== -Infinity;\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\nmodule.exports = FORCED ? function parseFloat(string) {\n  var trimmedString = trim(String(string));\n  var result = $parseFloat(trimmedString);\n  return result === 0 && trimmedString.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n","var $ = require('../internals/export');\nvar parseFloatImplementation = require('../internals/number-parse-float');\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\n$({ global: true, forced: parseFloat != parseFloatImplementation }, {\n  parseFloat: parseFloatImplementation\n});\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n"],"sourceRoot":""}