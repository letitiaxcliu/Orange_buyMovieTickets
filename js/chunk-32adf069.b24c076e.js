(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32adf069"],{"104d":function(t,a,e){"use strict";var i=e("8682"),s=e("f1b6");i({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},"25e3":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home"},[e("header",[e("div",{staticClass:"fl"},[t._v(t._s(t.cities.city))]),e("van-search",{attrs:{placeholder:"请输入搜索影片的标题","show-action":"","left-icon":" "},on:{focus:function(a){return t.search()}},model:{value:t.value,callback:function(a){t.value=a},expression:"value"}},[e("div",{attrs:{slot:"action"},slot:"action"},[e("van-icon",{staticStyle:{"margin-top":"6px"},attrs:{name:"search",size:"20"}})],1)])],1),e("div",{staticClass:"homebox"},[e("div",{staticClass:"banner"},[e("van-swipe",{attrs:{autoplay:3e3,"indicator-color":"white",height:180}},t._l(t.images,(function(t,a){return e("van-swipe-item",{key:a},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"image"}],staticClass:"autoimg"})])})),1)],1),e("nav",{staticClass:"clearfix"},t._l(t.tabbarData,(function(a,i){return e("div",{key:i},[e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.togglePage({name:a.name})}}},[e("div",[e("img",{staticClass:"autoimg",attrs:{src:a.img}})])]),e("div",[t._v(t._s(a.title))])])})),0),e("div",{staticClass:"homecontent"},[e("div",{staticClass:"recommend"},[e("div",{staticClass:"movieTitle clearfix"},[e("span",{staticClass:"fl"},[t._v("电影推荐")]),e("span",{staticClass:"fr total clearfix"},[t._v(" 全部("+t._s(t.recommendMovieData.length)+") "),e("i",{staticClass:"fr",on:{click:t.toggleRecommendMData}})])]),e("div",{staticClass:"movieList"},[e("div",{staticClass:"movielist_Box"},t._l(t.showRecommendMData.data,(function(a,i){return e("div",{key:i,staticClass:"movie_Item",attrs:{id:a.id},on:{click:function(e){return t.viewMovieDetail({name:"movieDetail",params:{id:a.id}})}}},[e("div",{staticClass:"movie_img"},[e("img",{staticClass:"autoimg",attrs:{src:a.images.small,alt:""}}),e("div",{staticClass:"grade"},[e("span",[t._v(t._s(a.rating.average)+"分")])])]),e("div",{staticClass:"one-txt movie_name"},[t._v(t._s(a.title))]),e("div",{staticClass:"info"},[e("span",{staticClass:"fl"},[t._v(t._s(a.year)+"年")]),e("span",{staticClass:"fr"},[t._v(" "+t._s((a.collect_count/1e4).toFixed(1))+"万 "),e("i",{staticClass:"fr"})])])])})),0)])]),e("div",{staticClass:"new_movie"},[e("div",{staticClass:"movieTitle clearfix"},[e("span",{staticClass:"fl"},[t._v("新片榜")]),e("span",{staticClass:"fr total"},[t._v(" 全部("+t._s(t.newMovieData.length)+") "),e("i",{staticClass:"fr",on:{click:t.toggleNewMData}})])]),e("div",{staticClass:"movieList"},[e("div",{staticClass:"movielist_Box"},t._l(t.showNewMData.data,(function(a,i){return e("div",{key:i,staticClass:"movie_Item",attrs:{id:a.id},on:{click:function(e){return t.viewMovieDetail({name:"movieDetail",params:{id:a.id}})}}},[e("div",{staticClass:"movie_img"},[e("img",{staticClass:"autoimg",attrs:{src:a.images.small,alt:""}})]),e("div",{staticClass:"one-txt movie_name"},[t._v(t._s(a.title))]),e("div",{staticClass:"starbox fl clearfix"},[e("div",{ref:"noactivestar",refInFor:!0,staticClass:"noactivestar"},[e("span",[e("van-icon",{attrs:{name:"star"}})],1),e("span",[e("van-icon",{attrs:{name:"star"}})],1),e("span",[e("van-icon",{attrs:{name:"star"}})],1),e("span",[e("van-icon",{attrs:{name:"star"}})],1),e("span",[e("van-icon",{attrs:{name:"star"}})],1)]),e("div",{staticClass:"activestar",style:{width:a.width+"px"}},[e("span",[e("van-icon",{attrs:{name:"star"}})],1),e("span",[e("van-icon",{attrs:{name:"star"}})],1),e("span",[e("van-icon",{attrs:{name:"star"}})],1),e("span",[e("van-icon",{attrs:{name:"star"}})],1),e("span",[e("van-icon",{attrs:{name:"star"}})],1)])]),e("div",{staticClass:"fl starscore"},[t._v(t._s(a.rating.average))])])})),0)])]),e("div",{staticClass:"coming_movie"},[e("div",{staticClass:"movieTitle clearfix"},[e("span",{staticClass:"fl"},[t._v("即将上映")]),e("span",{staticClass:"fr total"},[t._v(" 全部("+t._s(t.comingMovieData.length)+") "),e("i",{staticClass:"fr",on:{click:t.toggleComingMData}})])]),e("div",{staticClass:"movieList"},[e("div",{staticClass:"movielist_Box"},t._l(t.showComingMData.data,(function(a,i){return e("div",{key:i,staticClass:"movie_Item",attrs:{id:a.id},on:{click:function(e){return t.viewMovieDetail({name:"movieDetail",params:{id:a.id}})}}},[e("div",{staticClass:"movie_img"},[e("img",{staticClass:"autoimg",attrs:{src:a.images.small,alt:""}})]),e("div",{staticClass:"one-txt movie_name"},[t._v(t._s(a.title))]),e("div",{staticClass:"buyinfo"},[e("div",{staticClass:"buybtn",on:{click:function(e){return e.stopPropagation(),t.buyTickets(a.id)}}},[e("van-button",{attrs:{round:"",size:"small",type:"info",color:"linear-gradient(to right, #FF429B, #FF3472)"}},[t._v("预售")])],1)])])})),0)])])])])])},s=[],n=(e("3546"),e("0e8d"),e("fdc1"),e("a94a"),e("639b"),e("4f5b"),e("104d"),e("9c58"),e("b287"),e("9d37")),r=e("debc"),o=e.n(r),c=e("08c1");function l(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function u(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?l(Object(e),!0).forEach((function(a){Object(n["a"])(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):l(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}var v=Object(c["a"])("homeModule"),d=v.mapState,m={name:"movelist",data:function(){return{value:""}},computed:u({},d(["cities","images","baseUrl","recommendMovieData","showRecommendMData","isHasData","newMovieData","comingMovieData","showNewMData","showComingMData","isInit","tabbarData"])),methods:{showRecommendList:function(){this.isHasData&&this.$store.commit("homeModule/showRecommendList")},toggleRecommendMData:function(){this.isHasData&&this.$store.commit("homeModule/toggleRecommendMData")},toggleComingMData:function(){this.isHasData&&this.$store.commit("homeModule/toggleComingMData")},toggleNewMData:function(){this.isHasData&&this.$store.commit("homeModule/toggleNewMData")},viewMovieDetail:function(t){this.$router.push(t)},search:function(){this.$router.push({name:"searchMovie"})},togglePage:function(t){this.$router.push(t)},buyTickets:function(t){var a=this,e=localStorage.getItem("user");e?(e=JSON.parse(e),e.isLogin||Dialog.confirm({title:"您还没有登录不能购买该电影哦！",message:"确定将自动跳转到登录页面"}).then((function(){return a.$router.push({name:"login"})})).catch((function(){})),this.$router.push({name:"buyTickets",query:{id:t}})):Dialog.confirm({title:"您还没有登录不能购买该电影哦！",message:"确定将自动跳转到登录页面"}).then((function(){return a.$router.push({name:"login"})})).catch((function(){})),this.$toast.clear()}},created:function(){var t=this,a=this;o.a.ajax({type:"GET",url:"https://apis.map.qq.com/ws/location/v1/ip",data:{key:"7RHBZ-XCUWR-A63W3-WSKOU-TWDC5-5BBLP",output:"jsonp"},dataType:"jsonp",success:function(t){var e=t.result.ad_info.city.replace(/市$/,"");a.$store.commit("homeModule/changeLocationCity",e)}}),this.isInit&&(this.$toast.loading({duration:0,message:"数据加载中...."}),this.$axios.all([this.axios({method:"GET",url:this.baseUrl+"/top250"}).then((function(t){return t.data.subjects})),this.axios({method:"GET",url:this.baseUrl+"/coming_soon"}).then((function(t){return t.data.subjects})),this.axios({method:"GET",url:this.baseUrl+"/new_movies"}).then((function(a){a.data.subjects.forEach((function(t){t.width=0})),t.$store.dispatch("homeModule/getNewMData",a.data.subjects).then((function(){var a=t.$refs.noactivestar[0].clientWidth;t.$store.commit("homeModule/changeMovielistWidth",a)}))}))]).then(this.$axios.spread((function(a,e){t.$store.commit("homeModule/getRecommendMData",a),t.$store.commit("homeModule/getComingMData",e),t.$toast.clear()}))).catch((function(a){t.$toast.clear()})))}},f=m,h=(e("3a54"),e("5511")),g=Object(h["a"])(f,i,s,!1,null,"190a3cde",null);a["default"]=g.exports},"3a54":function(t,a,e){"use strict";var i=e("efea"),s=e.n(i);s.a},"3b09":function(t,a,e){var i=e("f6cc"),s=e("f1b6");t.exports=function(t,a){var e=t.exec;if("function"===typeof e){var n=e.call(t,a);if("object"!==typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return s.call(t,a)}},6693:function(t,a,e){"use strict";var i=e("a0a3");function s(t,a){return RegExp(t,a)}a.UNSUPPORTED_Y=i((function(){var t=s("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),a.BROKEN_CARET=i((function(){var t=s("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},"7f96":function(t,a,e){"use strict";e("104d");var i=e("14f9"),s=e("a0a3"),n=e("998b"),r=e("f1b6"),o=e("90db"),c=n("species"),l=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),v=!s((function(){var t=/(?:)/,a=t.exec;t.exec=function(){return a.apply(this,arguments)};var e="ab".split(t);return 2!==e.length||"a"!==e[0]||"b"!==e[1]}));t.exports=function(t,a,e,d){var m=n(t),f=!s((function(){var a={};return a[m]=function(){return 7},7!=""[t](a)})),h=f&&!s((function(){var a=!1,e=/a/;return"split"===t&&(e={},e.constructor={},e.constructor[c]=function(){return e},e.flags="",e[m]=/./[m]),e.exec=function(){return a=!0,null},e[m](""),!a}));if(!f||!h||"replace"===t&&(!l||!u)||"split"===t&&!v){var g=/./[m],p=e(m,""[t],(function(t,a,e,i,s){return a.exec===r?f&&!s?{done:!0,value:g.call(a,e,i)}:{done:!0,value:t.call(e,a,i)}:{done:!1}}),{REPLACE_KEEPS_$0:u}),x=p[0],b=p[1];i(String.prototype,t,x),i(RegExp.prototype,m,2==a?function(t,a){return b.call(t,this,a)}:function(t){return b.call(t,this)})}d&&o(RegExp.prototype[m],"sham",!0)}},"9c58":function(t,a,e){"use strict";var i=e("7f96"),s=e("98f1"),n=e("3e59"),r=e("926d"),o=e("8a2e"),c=e("0e90"),l=e("af71"),u=e("3b09"),v=Math.max,d=Math.min,m=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};i("replace",2,(function(t,a,e,i){return[function(e,i){var s=c(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,s,i):a.call(String(s),e,i)},function(t,n){if(i.REPLACE_KEEPS_$0||"string"===typeof n&&-1===n.indexOf("$0")){var c=e(a,t,this,n);if(c.done)return c.value}var m=s(t),f=String(this),h="function"===typeof n;h||(n=String(n));var x=m.global;if(x){var b=m.unicode;m.lastIndex=0}var C=[];while(1){var _=u(m,f);if(null===_)break;if(C.push(_),!x)break;var y=String(_[0]);""===y&&(m.lastIndex=l(f,r(m.lastIndex),b))}for(var w="",D=0,M=0;M<C.length;M++){_=C[M];for(var $=String(_[0]),E=v(d(o(_.index),f.length),0),O=[],R=1;R<_.length;R++)O.push(g(_[R]));var k=_.groups;if(h){var j=[$].concat(O,E,f);void 0!==k&&j.push(k);var I=String(n.apply(void 0,j))}else I=p($,f,E,O,k,n);E>=D&&(w+=f.slice(D,E)+I,D=E+$.length)}return w+f.slice(D)}];function p(t,e,i,s,r,o){var c=i+t.length,l=s.length,u=h;return void 0!==r&&(r=n(r),u=f),a.call(o,u,(function(a,n){var o;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(c);case"<":o=r[n.slice(1,-1)];break;default:var u=+n;if(0===u)return a;if(u>l){var v=m(u/10);return 0===v?a:v<=l?void 0===s[v-1]?n.charAt(1):s[v-1]+n.charAt(1):a}o=s[u-1]}return void 0===o?"":o}))}}))},af71:function(t,a,e){"use strict";var i=e("53f7").charAt;t.exports=function(t,a,e){return a+(e?i(t,a).length:1)}},efea:function(t,a,e){},f1b6:function(t,a,e){"use strict";var i=e("0ef5"),s=e("6693"),n=RegExp.prototype.exec,r=String.prototype.replace,o=n,c=function(){var t=/a/,a=/b*/g;return n.call(t,"a"),n.call(a,"a"),0!==t.lastIndex||0!==a.lastIndex}(),l=s.UNSUPPORTED_Y||s.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],v=c||u||l;v&&(o=function(t){var a,e,s,o,v=this,d=l&&v.sticky,m=i.call(v),f=v.source,h=0,g=t;return d&&(m=m.replace("y",""),-1===m.indexOf("g")&&(m+="g"),g=String(t).slice(v.lastIndex),v.lastIndex>0&&(!v.multiline||v.multiline&&"\n"!==t[v.lastIndex-1])&&(f="(?: "+f+")",g=" "+g,h++),e=new RegExp("^(?:"+f+")",m)),u&&(e=new RegExp("^"+f+"$(?!\\s)",m)),c&&(a=v.lastIndex),s=n.call(d?e:v,g),d?s?(s.input=s.input.slice(h),s[0]=s[0].slice(h),s.index=v.lastIndex,v.lastIndex+=s[0].length):v.lastIndex=0:c&&s&&(v.lastIndex=v.global?s.index+s[0].length:a),u&&s&&s.length>1&&r.call(s[0],e,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(s[o]=void 0)})),s}),t.exports=o}}]);
//# sourceMappingURL=chunk-32adf069.b24c076e.js.map